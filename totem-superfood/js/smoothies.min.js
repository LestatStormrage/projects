import"./cookies.min.js";import"./watcher.min.js";import"./common.min.js";function i(){const o=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${o}px`;const c=document.querySelector("header");c&&(c.style.paddingRight=`${o}px`)}function a(){document.body.style.overflow="",document.body.style.paddingRight="";const o=document.querySelector("header");o&&(o.style.paddingRight="")}document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll(".products-block__item");document.querySelectorAll(".products-block__popups");const c=document.querySelectorAll(".product-popups__close");let s=!1,p=null;function n(t,e){p=e;const d=e.querySelectorAll(".product-popup");e.classList.add("product-popups-active"),i(),d.forEach(l=>l.classList.remove("product-popup-active"));const r=e.querySelector(`.product-popup[data-product="${t}"]`);r&&(r.classList.add("product-popup-active"),s=!0,history.pushState({popupOpen:!0},""))}function u(){if(!p)return;p.classList.remove("product-popups-active"),p.querySelectorAll(".product-popup").forEach(e=>e.classList.remove("product-popup-active")),a(),s=!1,history.state&&history.state.popupOpen&&history.back(),p=null}o.forEach(t=>{const e=t.getAttribute("data-product");e&&t.addEventListener("click",()=>{const d=t.closest(".products-block").querySelector(".products-block__popups");n(e,d)})}),c.forEach(t=>{t.addEventListener("click",()=>{u()})}),window.addEventListener("popstate",t=>{s&&u()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&s&&(history.state?.popupOpen?history.back():u())})});
