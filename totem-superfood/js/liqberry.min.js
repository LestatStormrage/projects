import"./cookies.min.js";import"./watcher.min.js";import"./common.min.js";document.addEventListener("click",function(o){const p=o.target.closest(".packaging-products-page__button");if(!p)return;const s=p.dataset.packaging;document.querySelectorAll(".packaging-products-page__button").forEach(t=>{t.classList.toggle("is-active",t.dataset.packaging===s)}),document.querySelectorAll(".product__image, .product-popup__image").forEach(t=>{t.classList.toggle("is-active",t.dataset.packaging===s)})});function i(){const o=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${o}px`;const p=document.querySelector("header");p&&(p.style.paddingRight=`${o}px`)}function l(){document.body.style.overflow="",document.body.style.paddingRight="";const o=document.querySelector("header");o&&(o.style.paddingRight="")}document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll(".products-block__item");document.querySelectorAll(".products-block__popups");const p=document.querySelectorAll(".product-popups__close");let s=!1,t=null;function r(e,c){t=c;const d=c.querySelectorAll(".product-popup");c.classList.add("product-popups-active"),i(),d.forEach(a=>a.classList.remove("product-popup-active"));const n=c.querySelector(`.product-popup[data-product="${e}"]`);n&&(n.classList.add("product-popup-active"),s=!0,history.pushState({popupOpen:!0},""))}function u(){if(!t)return;t.classList.remove("product-popups-active"),t.querySelectorAll(".product-popup").forEach(c=>c.classList.remove("product-popup-active")),l(),s=!1,history.state&&history.state.popupOpen&&history.back(),t=null}o.forEach(e=>{const c=e.getAttribute("data-product");c&&e.addEventListener("click",()=>{const d=e.closest(".products-block").querySelector(".products-block__popups");r(c,d)})}),p.forEach(e=>{e.addEventListener("click",()=>{u()})}),window.addEventListener("popstate",e=>{s&&u()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&s&&(history.state?.popupOpen?history.back():u())})});
