import{b as f,g as i,a as n}from"./common.min.js";function p(){const l=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${l}px`;const e=document.querySelector("header");e&&(e.style.paddingRight=`${l}px`)}function g(){document.body.style.overflow="",document.body.style.paddingRight="";const l=document.querySelector("header");l&&(l.style.paddingRight="")}document.querySelectorAll("[data-fls-product]").forEach(l=>{const e=l.querySelector(".product__body"),a=l.querySelector(".product-popup"),t=a.querySelectorAll(".product-popup__close");e.addEventListener("click",()=>{a.classList.add("active"),history.pushState({popupOpen:!0},""),p()});const o=()=>{a.classList.contains("active")&&(a.classList.remove("active"),history.state&&history.state.popupOpen&&history.back(),g())};t.forEach(s=>{s.addEventListener("click",c=>{c.stopPropagation(),o()})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&o()}),window.addEventListener("popstate",()=>{o()})});function m(){document.addEventListener("click",l),document.addEventListener("watcherCallback",l);function l(e){if(e.type==="click"){const a=e.target;if(a.closest("[data-fls-scrollto]")){const t=a.closest("[data-fls-scrollto]"),o=t.dataset.flsScrollto?t.dataset.flsScrollto:"",s=!!t.hasAttribute("data-fls-scrollto-header"),c=t.dataset.flsScrolltoSpeed?t.dataset.flsScrolltoSpeed:500,u=t.dataset.flsScrolltoTop?parseInt(t.dataset.flsScrolltoTop):0;if(window.fullpage){const d=document.querySelector(`${o}`).closest("[data-fls-fullpage-section]"),r=d?+d.dataset.flsFullpageId:null;r!==null&&(window.fullpage.switchingSection(r),document.documentElement.hasAttribute("data-fls-menu-open")&&(f(),document.documentElement.removeAttribute("data-fls-menu-open")))}else i(o,s,c,u);e.preventDefault()}}else if(e.type==="watcherCallback"&&e.detail){const a=e.detail.entry,t=a.target;if(t.dataset.flsWatcher==="navigator"){document.querySelector("[data-fls-scrollto].--navigator-active");let o;if(t.id&&document.querySelector(`[data-fls-scrollto="#${t.id}"]`))o=document.querySelector(`[data-fls-scrollto="#${t.id}"]`);else if(t.classList.length)for(let s=0;s<t.classList.length;s++){const c=t.classList[s];if(document.querySelector(`[data-fls-scrollto=".${c}"]`)){o=document.querySelector(`[data-fls-scrollto=".${c}"]`);break}}a.isIntersecting?o&&o.classList.add("--navigator-active"):o&&o.classList.remove("--navigator-active")}}}if(n()){let e;document.querySelector(`#${n()}`)?e=`#${n()}`:document.querySelector(`.${n()}`)&&(e=`.${n()}`),e&&i(e)}}document.querySelector("[data-fls-scrollto]")&&window.addEventListener("load",m);
